<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sample Certificate Preview (Enhanced)</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Great+Vibes&family=Montserrat:wght@400;600&display=swap');
    body { font-family: Inter, Arial, sans-serif; background:linear-gradient(120deg, #1a365d 0%, #2d3748 100%); display:flex; align-items:center; justify-content:center; height:100vh; margin:0 }
    .container { width: 1200px; max-width: 95%; }
    .controls { display:flex; gap:8px; margin-bottom:12px; align-items:center; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 12px; backdrop-filter: blur(10px) }
    button { padding:12px 20px; border-radius:10px; border:none; background:linear-gradient(to right, #f6ad55, #ed8936); color: white; cursor:pointer; font-weight:600; transition: all 0.3s ease }
    button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(237,137,54,0.4) }
    canvas { width:100%; border-radius:14px; box-shadow: 0 25px 50px rgba(0,0,0,0.25); display:block }
    label { font-size:13px; margin-right:8px; color: white }
    input, select { padding:10px 14px; border-radius:8px; border:1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white }
    input::placeholder { color: rgba(255,255,255,0.5) }
  </style>
</head>
<body>
  <div class="container">
    <div class="controls">
      <label>Name</label>
      <input id="name" value="Name Surname" />
      <label>Title</label>
      <input id="title" value="Frontend developer Internship" />
      <label>Duration</label>
      <input id="duration" value="1 Month" />
      <label>Serial</label>
      <input id="serial" value="QT-2025-ABC123" />
      <button id="renderBtn">Render</button>
      <button id="downloadBtn">Download PNG</button>
    </div>
    <canvas id="certCanvas" width="1200" height="850"></canvas>
  </div>

  <script>
    const canvas = document.getElementById('certCanvas');
    const ctx = canvas.getContext('2d');

    function normalizeTitle(raw) {
      if (!raw) return raw
      const s = raw.toLowerCase()
      if (s.includes('frontend')) return 'Frontend Developer Internship'
      if (s.includes('backend')) return 'Backend Developer Internship'
      if (s.includes('full') && s.includes('stack')) return 'Full-Stack Developer Internship'
      if (s.includes('data')) return 'Data Science Internship'
      return raw
    }

    function drawCertificate({name, title, duration, serial}) {
      const displayTitle = normalizeTitle(title)
      // clear
      ctx.clearRect(0,0,canvas.width, canvas.height);

      // Elegant background
      const gradient = ctx.createRadialGradient(canvas.width/2, canvas.height/2, 0, canvas.width/2, canvas.height/2, canvas.width/2)
      gradient.addColorStop(0, '#ffffff')
      gradient.addColorStop(0.7, '#f8fafc')
      gradient.addColorStop(1, '#f1f5f9')
      ctx.fillStyle = gradient
      ctx.fillRect(0, 0, canvas.width, canvas.height)

      // Background pattern
      ctx.save()
      ctx.globalAlpha = 0.03
      for(let i = 0; i < canvas.width; i += 40) {
        for(let j = 0; j < canvas.height; j += 40) {
          ctx.beginPath()
          ctx.arc(i, j, 1, 0, Math.PI * 2)
          ctx.fillStyle = '#1a365d'
          ctx.fill()
        }
      }
      ctx.restore()

      // Decorative corners
      const cornerSize = 100
      function drawCorner(x, y, rotate) {
        ctx.save()
        ctx.translate(x, y)
        ctx.rotate(rotate * Math.PI / 180)
        
        const cornerGradient = ctx.createLinearGradient(0, 0, cornerSize, cornerSize)
        cornerGradient.addColorStop(0, '#f6ad55')
        cornerGradient.addColorStop(1, '#ed8936')
        
        ctx.strokeStyle = cornerGradient
        ctx.lineWidth = 8
        ctx.beginPath()
        ctx.moveTo(0, 0)
        ctx.lineTo(cornerSize, 0)
        ctx.moveTo(0, 0)
        ctx.lineTo(0, cornerSize)
        ctx.stroke()
        ctx.restore()
      }

      // Draw corners
      drawCorner(50, 50, 0)
      drawCorner(canvas.width - 50, 50, 90)
      drawCorner(50, canvas.height - 50, -90)
      drawCorner(canvas.width - 50, canvas.height - 50, 180)

      // Main border with gradient
      const borderGradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height)
      borderGradient.addColorStop(0, '#f6ad55')
      borderGradient.addColorStop(0.5, '#ed8936')
      borderGradient.addColorStop(1, '#dd6b20')
      
      ctx.strokeStyle = borderGradient
      ctx.lineWidth = 3
      ctx.strokeRect(35, 35, canvas.width - 70, canvas.height - 70)

      // Inner border
      ctx.strokeStyle = 'rgba(237,137,54,0.3)'
      ctx.lineWidth = 1
      ctx.strokeRect(45, 45, canvas.width - 90, canvas.height - 90)

      // Draw ProofNex logo
      const logoSize = 80;
      ctx.save();
      ctx.fillStyle = '#1a365d';
      ctx.font = '70px "Font Awesome 6 Free"';
      ctx.textAlign = 'center';
      ctx.fillText('', canvas.width/2 - 220, 120); // Shield icon
      
      // Certificate seal
      ctx.save()
      const sealX = canvas.width - 160
      const sealY = canvas.height - 160
      
      // Draw circular seal
      ctx.beginPath()
      ctx.arc(sealX, sealY, 45, 0, Math.PI * 2)
      const sealGradient = ctx.createRadialGradient(sealX, sealY, 0, sealX, sealY, 45)
      sealGradient.addColorStop(0, '#f6ad55')
      sealGradient.addColorStop(1, '#ed8936')
      ctx.fillStyle = sealGradient
      ctx.fill()
      
      // Inner circle
      ctx.beginPath()
      ctx.arc(sealX, sealY, 35, 0, Math.PI * 2)
      ctx.strokeStyle = 'white'
      ctx.lineWidth = 2
      ctx.stroke()
      
      // Seal text
      ctx.fillStyle = 'white'
      ctx.font = 'bold 14px Montserrat'
      ctx.textAlign = 'center'
      ctx.fillText('VERIFIED', sealX, sealY - 8)
      ctx.font = '12px Montserrat'
      ctx.fillText('ProofNex™', sealX, sealY + 8)
      
      // Add checkmark icon
      ctx.font = '16px "Font Awesome 6 Free"'
      ctx.fillText('', sealX, sealY + 25)
      
      ctx.restore()

      // Elegant header with icon
      ctx.fillStyle = '#1a365d'
      ctx.font = 'bold 60px "Cormorant Garamond"'
      ctx.textAlign = 'center'
      ctx.fillText('Certificate of Completion', canvas.width / 2, 120)

      // Decorative lines under header
      function drawDecorativeLine(yPos) {
        const lineLength = 180;
        const startX = canvas.width/2 - lineLength;
        const endX = canvas.width/2 + lineLength;
        
        const lineGradient = ctx.createLinearGradient(startX, 0, endX, 0);
        lineGradient.addColorStop(0, 'transparent');
        lineGradient.addColorStop(0.2, '#ed8936');
        lineGradient.addColorStop(0.8, '#ed8936');
        lineGradient.addColorStop(1, 'transparent');
        
        ctx.strokeStyle = lineGradient;
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(startX, yPos);
        ctx.lineTo(endX, yPos);
        ctx.stroke();
        
        // Add decorative dots
        ctx.fillStyle = '#ed8936';
        ctx.beginPath();
        ctx.arc(startX - 10, yPos, 3, 0, Math.PI * 2);
        ctx.arc(endX + 10, yPos, 3, 0, Math.PI * 2);
        ctx.fill();
      }
      
      drawDecorativeLine(140);
      
      // Company name with icon
      ctx.fillStyle = '#2d3748'
      ctx.font = '46px "Great Vibes"'
      ctx.fillText('ProofNex', canvas.width / 2, 190)
      
      // Add small icon next to company name
      ctx.font = '20px "Font Awesome 6 Free"'
      ctx.fillText('', canvas.width/2 + 100, 190) // Small shield icon

      // Subtitle styling
      ctx.fillStyle = '#4a5568'
      ctx.font = '24px "Cormorant Garamond"'
      ctx.fillText('• ISO 9001:2015 Certified • Trusted Digital Verification •', canvas.width / 2, 155)

      // certificate header
      ctx.fillStyle = '#1e293b'
      ctx.font = 'italic 32px serif'
      ctx.fillText('CERTIFICATE OF ACHIEVEMENT', canvas.width / 2, 220)

      // decorative line
      ctx.strokeStyle = '#fbbf24'
      ctx.lineWidth = 3
      ctx.beginPath()
      ctx.moveTo(canvas.width / 2 - 200, 240)
      ctx.lineTo(canvas.width / 2 + 200, 240)
      ctx.stroke()

      // main copy
      ctx.fillStyle = '#475569'
      ctx.font = '24px serif'
      ctx.fillText('This is to certify that', canvas.width / 2, 290)

      ctx.fillStyle = '#1e293b'
      ctx.font = 'bold 64px serif'
      ctx.fillText(name.toUpperCase(), canvas.width / 2, 360)

      // underline under name
      ctx.strokeStyle = '#fbbf24'
      ctx.lineWidth = 4
      const nameWidth = ctx.measureText(name.toUpperCase()).width
      ctx.beginPath()
      ctx.moveTo(canvas.width / 2 - nameWidth / 2, 375)
      ctx.lineTo(canvas.width / 2 + nameWidth / 2, 375)
      ctx.stroke()

      ctx.fillStyle = '#475569'
      ctx.font = '26px serif'
      ctx.fillText('has successfully completed the comprehensive', canvas.width / 2, 420)

      ctx.fillStyle = '#0f172a'
      ctx.font = 'bold 38px serif'
      ctx.fillText(displayTitle.toUpperCase(), canvas.width / 2, 470)

      ctx.fillStyle = '#64748b'
      ctx.font = '22px serif'
      ctx.fillText(`Duration: ${duration}`, canvas.width / 2, 510)

      ctx.fillStyle = '#475569'
      ctx.font = '20px serif'
      ctx.fillText('with outstanding performance and dedication', canvas.width / 2, 540)

      // footer left with icons
      ctx.fillStyle = '#1e293b'
      ctx.font = 'bold 16px Montserrat'
      ctx.textAlign = 'left'
      
      // Certificate ID with icon
      ctx.font = '14px "Font Awesome 6 Free"'
      ctx.fillText('', 80, 720) // ID card icon
      ctx.font = 'bold 16px Montserrat'
      ctx.fillText(`  Certificate ID: ${serial}`, 100, 720)

      ctx.fillStyle = '#64748b'
      ctx.font = '14px Montserrat'
      
      // Date with icon
      ctx.font = '14px "Font Awesome 6 Free"'
      ctx.fillText('', 80, 745) // Calendar icon
      ctx.font = '14px Montserrat'
      ctx.fillText('  Date of Issue: ' + new Date().toLocaleDateString(), 100, 745)
      
      // Verify link with icon
      ctx.font = '14px "Font Awesome 6 Free"'
      ctx.fillText('', 80, 770) // Link icon
      ctx.font = '14px Montserrat'
      ctx.fillText('  Verify at: proofnex.com/verify', 100, 770)

      // footer right with icons
      ctx.textAlign = 'right'
      ctx.fillStyle = '#1e293b'
      ctx.font = 'bold 16px Montserrat'
      ctx.fillText('Authorized by ProofNex', canvas.width - 80, 720)
      
      ctx.fillStyle = '#64748b'
      ctx.font = '14px Montserrat'
      
      // Security badge
      ctx.font = '14px "Font Awesome 6 Free"'
      ctx.fillText('', canvas.width - 240, 745) // Shield icon
      ctx.font = '14px Montserrat'
      ctx.fillText('Digitally Verified & Secured', canvas.width - 80, 745)
      
      // Checkmark
      ctx.font = '14px "Font Awesome 6 Free"'
      ctx.fillText('', canvas.width - 200, 770) // Check icon
      ctx.font = '14px Montserrat'
      ctx.fillText('Authentic Certificate', canvas.width - 80, 770)

      // QR code (smaller and more elegant)
      const serialSafe = encodeURIComponent(serial)
      const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${serialSafe}&margin=1&color=1e293b`
      const img = new Image()
      img.crossOrigin = 'anonymous'
      img.onload = () => {
        // QR background with subtle gradient
        ctx.save()
        const qrGradient = ctx.createLinearGradient(canvas.width - 170, 550, canvas.width - 50, 670)
        qrGradient.addColorStop(0, '#ffffff')
        qrGradient.addColorStop(1, '#f8fafc')
        ctx.fillStyle = qrGradient
        ctx.fillRect(canvas.width - 170, 550, 120, 120)
        
        // Subtle border
        ctx.strokeStyle = 'rgba(226,232,240,0.8)'
        ctx.lineWidth = 1
        ctx.strokeRect(canvas.width - 170, 550, 120, 120)
        
        // Draw QR code
        ctx.drawImage(img, canvas.width - 165, 555, 110, 110)
        
        // QR code label
        ctx.fillStyle = '#64748b'
        ctx.font = '12px Montserrat'
        ctx.textAlign = 'center'
        ctx.fillText('Scan to Verify', canvas.width - 110, 690)
        ctx.restore()
      }
      img.src = qrUrl
    }

    document.getElementById('renderBtn').addEventListener('click', () => {
      const name = document.getElementById('name').value || 'Student'
      const title = document.getElementById('title').value || 'Course'
      const duration = document.getElementById('duration').value || '1 Month'
      const serial = document.getElementById('serial').value || 'QT-2025-XXXX'
      drawCertificate({name, title, duration, serial})
    })

    document.getElementById('downloadBtn').addEventListener('click', () => {
      const link = document.createElement('a')
      link.download = (document.getElementById('name').value || 'student').replace(/\s+/g,'_') + '_Certificate.png'
      link.href = canvas.toDataURL('image/png')
      link.click()
    })

    // initial render
    drawCertificate({name: document.getElementById('name').value, title: document.getElementById('title').value, duration: document.getElementById('duration').value, serial: document.getElementById('serial').value})
  </script>
</body>
</html>